define("repeater",["lodash","core","santaProps","prop-types","santa-components","react"],function(e,t,n,i,r,o){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1604)}({0:function(t,n){t.exports=e},1604:function(e,t,n){var i,r;i=[n(1605),n(2)],void 0===(r=function(e,t){"use strict";t.compRegistrar.register("wysiwyg.viewer.components.Repeater",e)}.apply(t,i))||(e.exports=r)},1605:function(e,t,n){var i,r;i=[n(2),n(0),n(19),n(6),n(3),n(1606)],void 0===(r=function(e,t,n,i,r,o){"use strict";var s=i.mixins.scrollMixin,p=e.createReactElement;function a(e){var n=e.repeaterWidth,i=e.templateWidth,r=e.horizontalGap,o=e.itemCount,s=Math.floor((n+r||0)/(i+r||0));if(s>=o)return null;var p=s-o%s;return t.isNumber(r)?p*(r+i)+"px":"calc("+p+" * "+i+"px +\n            (100% - "+s*i+"px) * "+(p-1)+" / "+(s-1)+")"}function l(e){var n=!!t.get(e.structure,"layout.docked");return e.isInSSR&&!e.isMobileView&&n&&!e.isMeshLayoutMechanism}function u(t){return l(t)?null:n.Children.map(t.children,function(t){return e.createReactElement("li",{key:t.props.id},t)})}return{displayName:"Repeater",mixins:[e.compMixins.skinBasedComp,s],statics:{compSpecificIsDomOnlyOverride:function(){return!1}},propTypes:{id:r.Types.Component.id.isRequired,rootId:r.Types.Component.rootId.isRequired,compData:r.Types.Component.compData.isRequired,compProp:r.Types.Component.compProp.isRequired,templateLayout:r.Types.Repeater.templateLayout,isMeshLayoutMechanism:r.Types.Layout.isMeshLayoutMechanism,setDisplayedOnlyCompsTemplateId:o.setDisplayedOnlyCompsTemplateId.isRequired,isMobileView:r.Types.isMobileView,isMobileDevice:r.Types.Device.isMobileDevice,isTabletDevice:r.Types.Device.isTabletDevice,siteWidth:r.Types.siteWidth.isRequired,clearDisplayedOnlyCompsTemplateId:o.clearDisplayedOnlyCompsTemplateId.isRequired,isInSSR:r.Types.isInSSR.isRequired,structure:r.Types.Component.structure.isRequired},componentWillMount:function(){this.props.setDisplayedOnlyCompsTemplateId(this.props.id,this.props.compData.items[0])},componentWillUnmount:function(){this.props.clearDisplayedOnlyCompsTemplateId(this.props.id)},getMeshSkinProperties:function(){var e=this.props.compProp,n=e.gap,r=e.alignment,o=this.props,s=o.isMobileView,l=o.isMobileDevice,c=o.isTabletDevice,d=o.siteWidth,m=this.props.templateLayout,y=m.repeaterWidth,f=m.docked,h=m.templateWidth,v=m.itemCount,x=f?Math.min(y,d):y,g=!f||c()||l||s?x:1920,T="justify"===r?null:n.horizontal,C=t.get(f,"left.px",0)+t.get(f,"right.px",0),b=n.vertical,M={justify:"space-between",right:"flex-end",left:"flex-start",center:"center"}[r];return{"":{style:{height:"auto"},addChildrenBefore:[p("style",{key:"repeater-placeholder-style",dangerouslySetInnerHTML:{__html:function(e){for(var n=e.selector,i=e.itemCount,r=e.templateWidth,o=e.minWidth,s=e.maxWidth,p=e.horizontalGap,l=e.verticalGap,u=e.dockHorizontalMargin,c=r+(p||0),d=[],m=o;m<s+c;m+=c){var y=a({repeaterWidth:m-u,templateWidth:r,horizontalGap:p,itemCount:i});d.push({w0:m>o?m:null,w1:m<s?m+c:null,css:n+":after {\n                    width: "+(y||0)+";\n                    display: "+(y?"block":"none")+";\n                }"})}return t(d).map(t.size(d)>1?function(e){var n=e.css,i=e.w0,r=e.w1;return"@media screen\n            "+(t.isNumber(i)?"and (min-device-width: "+i+"px)":"")+"\n            "+(t.isNumber(r)?"and (max-device-width: "+r+"px)":"")+" {"+n+"}"}:"css").concat([n+" > li {\n                margin: "+l/2+"px "+(p||0)/2+"px;\n            }\n\n            "+n+":after {\n                content: ' ';\n                visibility: hidden;\n                height: 0;\n                margin: 0;\n            }"]).join("\n")}({selector:"#"+this.props.id+"inlineContent",templateWidth:h,itemCount:v,horizontalGap:T,verticalGap:b,minWidth:x,maxWidth:g,dockHorizontalMargin:C})}})]},inlineContent:{parentConst:i.utils.createReactElement.bind(null,"ul"),style:{display:"flex",justifyContent:M,position:"relative",flexWrap:"wrap",margin:-b/2+"px "+-(T||0)/2+"px "+-b/2+"px "+-(T||0)/2+"px"},children:u(this.props)}}},getSkinProperties:function(){if(this.props.isMeshLayoutMechanism)return this.getMeshSkinProperties();var e={inlineContent:{parentConst:i.utils.createReactElement.bind(null,"ul"),children:u(this.props)}};return l(this.props)&&(e[""]=e[""]||{},e[""]["data-ssrignorediverge"]=!0),e}}}.apply(t,i))||(e.exports=r)},1606:function(e,t,n){var i,r;i=[n(0),n(5),n(3)],void 0===(r=function(e,t,n){"use strict";return{setDisplayedOnlyCompsTemplateId:n.createGlobalSantaType(t.func,function(e){var t=e.siteAPI.getDisplayedDAL(),n=e.siteAPI.getPointers();return function(e,i){if(i){var r=n.displayedOnlyComponents.getComponentTemplateId(e);t.set(r,i)}}},"repeaterTypes_setDisplayedOnlyCompsTemplateId"),clearDisplayedOnlyCompsTemplateId:n.createGlobalSantaType(t.func,function(e){var t=e.siteAPI.getDisplayedDAL(),n=e.siteAPI.getPointers();return function(e){if(t.isExist(n.displayedOnlyComponents.getComponentTemplateId(e))){var i=n.displayedOnlyComponents.getComponentTemplateId(e);t.remove(i)}}},"repeaterTypes_clearDisplayedOnlyCompsTemplateId")}}.apply(t,i))||(e.exports=r)},19:function(e,t){e.exports=o},2:function(e,n){e.exports=t},3:function(e,t){e.exports=n},5:function(e,t){e.exports=i},6:function(e,t){e.exports=r}})});
//# sourceMappingURL=repeater.min.js.map