define("htmlComponent",["lodash","utils","core","santaProps","santa-components","skins","reactDOM"],function(e,t,o,n,s,r,i){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1432)}({0:function(t,o){t.exports=e},1:function(e,o){e.exports=t},12:function(e,t){e.exports=i},1432:function(e,t,o){var n,s;n=[o(6),o(0),o(2),o(1),o(12),o(3),o(7),o(1433)],void 0===(s=function(e,t,o,n,s,r,i,p){"use strict";var a=o.compMixins,l=n.urlUtils,c="static.wix.com";function u(e){return!!e.url}var m={displayName:"HtmlComponent",mixins:[a.skinBasedComp],propTypes:{compData:r.Types.Component.compData,compProp:r.Types.Component.compProp,isExperimentOpen:r.Types.isExperimentOpen,serviceTopologyStaticHTMLComponentUrl:r.Types.ServiceTopology.staticHTMLComponentUrl,useSandboxInHTMLComp:r.Types.RendererModel.useSandboxInHTMLComp,ios:r.Types.BrowserFlags.ios.isRequired,registerComponentToPostMessage:r.Types.HtmlPostMessage.registerComponent.isRequired,unRegisterComponentFromPostMessage:r.Types.HtmlPostMessage.unRegisterComponent.isRequired,shouldResetComponent:r.Types.RenderFlags.shouldResetComponent.isRequired,externalBaseUrl:r.Types.PublicModel.externalBaseUrl},getIframeAttributes:function(){var e=t.assign({width:"100%",height:"100%",ref:"iframe",scrolling:this.props.compData.scrolling||"auto","data-src":u(this.props.compData)?function(){var e=this.props.compData.url,o="external"===this.props.compData.sourceType,s=this.props.serviceTopologyStaticHTMLComponentUrl,r=t.startsWith(this.props.serviceTopologyStaticHTMLComponentUrl,"https")?"https:":"http:";if(!o&&n.stringUtils.startsWith(e,"html/")&&(e=s+e),e=l.addProtocolIfMissing(e,r),s=l.addProtocolIfMissing(s),"https:"===r&&(e=l.setProtocol(e,r)),!o&&(e=e.replace("//static.wixstatic.com",s),t.includes(e,c))){var i=t.head(e.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n]+)/im));e=e.replace(i,s)}return e}.call(this):""},this.props.isExperimentOpen("sv_resetHtmlCompAndGoogleMaps")?{key:"iframe-"+this.props.id+"-"+this.props.shouldResetComponent}:{});return this.props.compData.allowFullScreen&&t.assign(e,{allowFullScreen:!0}),t.get(this.props,"compProp.isHidden")&&t.set(e,"style.display","none"),function(){return this.props.useSandboxInHTMLComp}.call(this)?t.assign(e,{sandbox:"allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock"}):e},onLoad:function(){this.props.registerComponentToPostMessage(this.props.id,this.refs.iframe.contentWindow)},getInitialState:function(){return{$content:u(this.props.compData)?"hasContent":"noContent"}},componentDidMount:function(){var e=s.findDOMNode(this.refs.iframe);e&&(e.onload=this.onLoad)},componentWillUpdate:function(e){this.props.isExperimentOpen("sv_resetHtmlCompAndGoogleMaps")&&e.shouldResetComponent!==this.props.shouldResetComponent&&this.props.unRegisterComponentFromPostMessage(this.props.id)},componentDidUpdate:function(e){this.props.isExperimentOpen("sv_resetHtmlCompAndGoogleMaps")&&e.shouldResetComponent!==this.props.shouldResetComponent&&this.props.registerComponentToPostMessage(this.props.id,this.refs.iframe.contentWindow)},componentWillUnmount:function(){this.props.unRegisterComponentFromPostMessage(this.props.id)},componentWillReceiveProps:function(){this.setState({$content:u(this.props.compData)?"hasContent":"noContent"})},getSkinProperties:function(){var o={};return!0===this.props.ios()&&t.assign(o,{overflow:"scroll",WebkitOverflowScrolling:"touch"}),{"":{style:o},iFrameHolder:{children:[e.utils.createReactElement("iframe",this.getIframeAttributes())]}}}};return o.compRegistrar.register("wysiwyg.viewer.components.HtmlComponent",m),i.skinsMap.addBatch(p),m}.apply(t,n))||(e.exports=s)},1433:function(e,t,o){var n;void 0===(n=function(){"use strict";var e={"wysiwyg.viewer.skins.HtmlComponentSkin":{react:[["div","iFrameHolder",[],{}]],css:{"%iFrameHolder":"width:100%;height:100%;","%iFrameHolder > iframe":"position:absolute;",'%[data-state="noContent"]':"background-color:#A5A5A5;"}}};return e}.apply(t,[]))||(e.exports=n)},2:function(e,t){e.exports=o},3:function(e,t){e.exports=n},6:function(e,t){e.exports=s},7:function(e,t){e.exports=r}})});
//# sourceMappingURL=htmlComponent.min.js.map